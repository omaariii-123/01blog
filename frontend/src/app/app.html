<div class="app-layout">
  @if (authService.isLoggedIn()) {
  <header class="tech-header mat-elevation-z2">
    <div class="header-container">
      
      <div class="header-start">
        <a routerLink="/" class="tech-brand">
          <span class="brand-bracket">&lt;</span>
          01<span class="brand-text">Blog</span>
          <span class="brand-bracket">/&gt;</span>
        </a>

        <div class="search-block">
          <mat-icon class="search-icon">search</mat-icon>
          <input type="text" placeholder="Type / to search...">
          <span class="keyboard-hint">/</span>
        </div>
      </div>

      <div class="header-end">
        
        <button class="action-btn accent-btn">
          <mat-icon>add</mat-icon>
          <span class="btn-label">Create</span>
        </button>

        <div class="divider-vertical"></div>

        <button mat-icon-button class="icon-action">
          <mat-icon>notifications</mat-icon>
        </button>

        <button class="user-chip" [matMenuTriggerFor]="userMenu">
          <img [src]="'https://api.dicebear.com/9.x/initials/svg?seed=' + authService.currentUser()" alt="User">
          <span class="user-name">{{ authService.currentUser() }}</span>
          <mat-icon class="dropdown-arrow">expand_more</mat-icon>
        </button>
      </div>

      <mat-menu #userMenu="matMenu" xPosition="before" class="tech-menu">
        <button mat-menu-item [routerLink]="['/block', authService.currentUser()]">
          <mat-icon>person</mat-icon> <span>Profile</span>
        </button>
        <button mat-menu-item *ngIf="authService.isAdmin()" routerLink="/admin">
          <mat-icon>terminal</mat-icon> <span>Console</span>
        </button>
        <mat-divider></mat-divider>
        <button mat-menu-item (click)="logout()">
          <mat-icon>power_settings_new</mat-icon> <span>Disconnect</span>
        </button>
      </mat-menu>

    </div>
  </header>
  }

  <div class="content-area">
    <router-outlet></router-outlet>
  </div>
</div>